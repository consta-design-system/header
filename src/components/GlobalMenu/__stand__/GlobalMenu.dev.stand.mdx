import { GlobalMenuExample } from './examples/GlobalMenuExample/GlobalMenuExample';
import { MdxMenu } from '@consta/stand';
import { GlobalMenuExampleCustomTypes } from './examples/GlobalMenuExampleCustomTypes/GlobalMenuExampleCustomTypes';

```tsx
import { GlobalMenu } from '@consta/header/GlobalMenu';
```

<MdxMenu>

- [Содержимое](#содержимое)
  - [Пример обычного меню](#пример-обычного-меню)
  - [Пример меню с кастомным типом](#пример-меню-с-кастомным-типом)
- [Импорт](#импорт)
- [Список свойств](#свойства)

</MdxMenu>

## Содержимое

За данные пунктов меню отвечает свойство `items` (тип [GlobalMenuDefaultItem](#свойства)). В него входит:

- `label` — заголовок баннера
- `groupId` — идентификатор группы
- `onClick` — событие при клике на элементе
- `as` — HTML-тег компонента
- `attributes` — атрибуты элемента

##### Пример обычного меню

```tsx
import React from 'react';
import { GlobalMenu } from '@consta/header/GlobalMenu';

const items = [
  {
    label: 'Пункт 1.1',
    groupId: 1,
  },
  {
    label: 'Пункт 1.2',
    groupId: 1,
  },
  {
    label: 'Пункт 1.3',
    groupId: 1,
  },
  {
    label: 'Пункт 1.4',
    groupId: 1,
  },
  {
    label: 'Пункт 2.1',
    groupId: 2,
  },
  {
    label: 'Пункт 2.2',
    groupId: 2,
  },
  {
    label: 'Пункт 2.3',
    groupId: 2,
  },
];

const groups = [
  { label: 'Первая группа', id: 1 },
  { label: 'Вторая группа', id: 2 },
];

export const GlobalMenuExample = () => {
  return (
    <GlobalMenu items={items} groups={groups} title="Объекты" columns={2} />
  );
};
```

<GlobalMenuExample />

##### Пример меню с кастомным типом

```tsx
import React from 'react';
import { GlobalMenu } from '@consta/header/GlobalMenu';

type Item = {
  text: string;
  group: number;
};

type Group = {
  key: number;
  name: string;
};

const items: Item[] = [
  {
    text: 'Пункт 1.1',
    group: 1,
  },
  {
    text: 'Пункт 1.2',
    group: 1,
  },
  {
    text: 'Пункт 1.3',
    group: 1,
  },
  {
    text: 'Пункт 1.4',
    group: 1,
  },
  {
    text: 'Пункт 2.1',
    group: 2,
  },
  {
    text: 'Пункт 2.2',
    group: 2,
  },
  {
    text: 'Пункт 2.3',
    group: 2,
  },
];

const groups: Group[] = [
  { name: 'Первая группа', key: 1 },
  { name: 'Вторая группа', key: 2 },
];

export const GlobalMenuExampleCustomTypes = () => {
  return (
    <GlobalMenu
      items={items}
      groups={groups}
      title="Объекты"
      getItemLabel={(item) => item.text}
      getItemGroupId={(item) => item.group}
      getGroupLabel={(group) => group.name}
      getGroupKey={(group) => group.key}
      maxElements={5}
      columns={3}
    />
  );
};
```

<GlobalMenuExample />

## Импорт

```tsx
import { GlobalMenu } from '@consta/header/GlobalMenu';
```

## Свойства

```tsx
export type GlobalMenuDefaultItem = {
  as?: keyof JSX.IntrinsicElements;
  attributes?: JSX.IntrinsicElements[keyof JSX.IntrinsicElements];
  onClick?: React.MouseEventHandler;
  label: string;
  groupId?: string | number;
};

export type GlobalMenuDefaultGroup = {
  label: string;
  id?: string | number;
};

export type GlobalMenuPropGetItemAs<ITEM> = (
  item: ITEM,
) => keyof JSX.IntrinsicElements | undefined;
export type GlobalMenuPropGetItemAttributes<ITEM> = (
  item: ITEM,
) => JSX.IntrinsicElements[keyof JSX.IntrinsicElements] | undefined;
export type GlobalMenuPropGetItemOnClick<ITEM> = (
  item: ITEM,
) => React.MouseEventHandler | undefined;
export type GlobalMenuPropGetItemLabel<ITEM> = (item: ITEM) => string;
export type GlobalMenuPropGetItemGroupId<ITEM> = (
  item: ITEM,
) => string | number | undefined;

export type GlobalMenuPropGetGroupId<ITEM> = (
  item: ITEM,
) => number | string | undefined;
export type GlobalMenuPropGetGroupLabel<ITEM> = (item: ITEM) => string;

export type GlobalMenuPropOnItemClick<ITEM> = (params: {
  e: React.MouseEvent;
  item: ITEM;
}) => void;
```

| Свойство             | Тип                               | По умолчанию               | Описание                                                                |
| -------------------- | --------------------------------- | -------------------------- | ----------------------------------------------------------------------- |
| `title?`             | `string`                          | -                          | Заголовок меню                                                          |
| `maxElements?`       | `number`                          | -                          | Колечестов отображаемых элементов в группе                              |
| `columns?`           | `number`                          | 3                          | Количестов колонок с группами                                           |
| `showButtonText?`    | `string`                          | `Ещё`                      | Текст для кнопки в состоянии свернутого списка                          |
| `hideButtonText?`    | `string`                          | `Скрыть`                   | Текст для кнопки в состоянии раскрытого списка                          |
| `items`              | `ITEM[]`                          | -                          | Пункты меню                                                             |
| `onItemClick?`       | `GlobalMenuPropOnItemClick`       | -                          | Событие по нажатию на элемент меню                                      |
| `getItemLabel?`      | `GlobalMenuPropGetItemLabel`      | `defaultGetItemLabel`      | Функция для определения заголовка элемента меню                         |
| `getItemOnClick?`    | `GlobalMenuPropGetItemOnClick`    | `defaultGetItemOnClick`    | Функция для определения события по нажатию на элемент меню              |
| `getItemGroupId?`    | `GlobalMenuPropGetItemGroupId`    | `defaultGetItemGroupId`    | Функция для определения описания элемениа меню                          |
| `getItemAs?`         | `GlobalMenuPropGetItemAs`         | `defaultGetItemAs`         | Функция для определения тэга элемента меню                              |
| `getItemAttributes?` | `GlobalMenuPropGetItemAttributes` | `defaultGetItemAttributes` | Функция для определения атрибутов элемента меню                         |
| `groups?`            | `GROUP[]`                         | -                          | Пункты меню                                                             |
| `getGroupId?`        | `GlobalMenuPropGetGroupId`        | `defaultGetGroupId`        | Функция для определения ключа группы                                    |
| `getGroupLabel?`     | `GlobalMenuPropGetGroupLabel`     | `defaultGetGroupLabel`     | Функция для определения заголовка группы                                |
| `className?`         | `string`                          | -                          | Дополнительный CSS-класс для кнопки, по которой открываются уведомления |
| `ref?`               | `React.Ref<HTMLButtonElement>`    | -                          | Ссылка на корневой DOM-элемент                                          |
